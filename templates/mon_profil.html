{% extends "layouts/master.html" %}
{% load i18n %}
{% block "contenu" %}
<section>
    <style>
        .profile-container {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            /* padding: 2rem; */
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .profile-header {
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            /* box-shadow: 0 5px 15px rgb(14, 13, 13); */
            width: 40%;
            padding: 20px;
            border-radius: 15px;
        }

        .profile-header img {
            width: 80%;
            height: 40vh;
            object-fit: cover;
            /* border: 3px solid #ff6b6b; */
        }

        .profile-header h2 {
            margin: 0;
            font-size: 2rem;
            color: #333;
        }
        .profile-info{
            /* margin-top: 50px; */
            margin: 30px
        }

        .profile-info p {
            margin: 0.5rem 0;
            font-size: 1rem;
            color: #555;
        }

        .profile-info p strong {
            color: #333;
        }

        .btn-complete-profile {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: background 0.3s;
            width: 45%;
            height: 45px;
        }

        .btn-complete-profile:hover {
            background: #ff8e8e;
        }

        .popup-overlay {
            position: fixed;
            /* top: 0; */
            top: -8vh;
            left: 0;
            width: 100%;
            height: 100%;
            /* background: rgba(0, 0, 0, 0.5); */
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            /* padding: 1rem; */
        }

        .popup-overlay.active {
            display: flex;
        }

        .popup-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            width: 100%;
            max-width: 600px;
            /* box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); */
            overflow-y: auto;
            max-height: 90vh;
        }

        .popup-content h3 {
            margin-top: 0;
            color: #333;
            text-align: center;
        }

        .popup-content .form-group {
            margin-bottom: 1rem;
        }

        .popup-content .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
        }

        .formul {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .formul input,
        .formul select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .sous_formul {
            flex: 1 1 calc(50% - 1rem);
        }

        .popup-content .btn-submit {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: #4ECDC4;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            width: 100%;
            margin-top: 1rem;
        }

        .popup-content .btn-submit:hover {
            background: #3bb9a3;
        }

        .popup-content .btn-close {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            width: 100%;
            margin-top: 1rem;
        }

        .popup-content .btn-close:hover {
            background: #ff8e8e;
        }

        @media (max-width: 768px) {
            .profile-header {
                flex-direction: column;
                /* text-align: center; */
                width: 100%;
            }

            .profile-header img {
                width: 10rem;
                height: 9rem;
                /* border-radius: 100%; */
            }

            .popup-content {
                padding: 1.5rem;
            }

            .formul {
                flex-direction: column;
            }

            .sous_formul {
                flex: 1 1 100%;
            }
            .plus_photo img {
                object-fit: cover;
                width: 10rem !important;
                height: 20vh !important;
                margin-bottom: 0px !important;
            }

        }
        .plus_photo{
            box-shadow: 6px 2px 4px 6px #ede8e8;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        .plus_photo h3{
            padding: 10px;
            color: red;
            font-family: none;
            font-size: 1.5rem;
        }
        .plus_photo img{
            width: 20rem;
            height: 30vh;
            margin-bottom: 0px;
        }
        .sary3{
            display: grid;
            gap: 20px;
            justify-content: center;
            grid-template-columns: 2fr 2fr;
        }

        .section-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 1rem;
            text-align: center;
            border-bottom: 2px solid #ff6b6b;
            padding-bottom: 0.5rem;
        }

        .category-title {
            font-size: 1.5rem;
            color: #4ECDC4;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .info-item {
            font-size: 1rem;
            color: #555;
            margin: 0.5rem 0;
            padding-left: 1rem;
            border-left: 3px solid #ff6b6b;
        }

        .info-item strong {
            color: #333;
        }

        .info-message {
            font-size: 1rem;
            color: #999;
            text-align: center;
            margin-top: 1rem;
        }

        .photo-thumbnail {
            width: 30%;
            height: 30vh;
            margin-bottom: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .photo-thumbnail:hover {
            transform: scale(1.1);
        }

        .photo-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            max-width: 80%;
            max-height: 80%;
            border-radius: 10px;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-navigation {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }

        .nav-button {
            background: rgba(255, 255, 255, 0.5);
            border: none;
            font-size: 2rem;
            color: black;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.8);
        }
        #description{
            border-radius: 15px;
            padding: 5px;
        }
        /* .popup_param{
            position: absolute;
            background-color: white;
            box-shadow: 0 10px 15px black;
            width: 30%;
            height: 40vh;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-85%);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            display: none;
            padding: 25px;
        } */
        .popup_param {
            position: absolute;
            background-color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            width: 300px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 15px;
            padding: 30px;
            display: none;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
            border: 1px solid #eaeaea;
        }
        /* .popup_param button{
            width: 80%;
            height: 50px;
            margin-bottom: 20px;
            margin-left: 10%;
            border-radius: 15px;
            background-color: red;
        }
        .popup_param a{
            color: white;
            text-decoration: none;
            font-size: 1rem;
        }
        
        .popup_param_active{
            transition: 2s ease-in-out;
            display: block;
            position: fixed;
            top: 50%;
        } */
        .popup_param_active {
            display: flex;
            animation: popup-appear 0.3s forwards;
        }

        /* Animation d'apparition */
        @keyframes popup-appear {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        /* Style des boutons */
        .popup_param button {
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            background-color: #f5f5f5;
            transition: all 0.2s ease;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .popup_param button:hover {
            background-color: #e0e0e0;
        }

        /* Style pour les liens dans les boutons */
        .popup_param button a {
            text-decoration: none;
            color: #333;
            display: block;
            width: 100%;
            height: 100%;
        }

        /* Style spécial pour le bouton de déconnexion */
        .popup_param button:nth-child(2) {
            background-color: #e6f7ff;
            color: #0070f3;
        }

        .popup_param button:nth-child(2):hover {
            background-color: #cce9ff;
        }

        .popup_param button:nth-child(2) a {
            color: #0070f3;
        }

        /* Style spécial pour le bouton de suppression */
        .popup_param button:nth-child(3) {
            background-color: #fff2f0;
            color: #ff4d4f;
        }

        .popup_param button:nth-child(3):hover {
            background-color: #ffd6d6;
        }

        .popup_param button:nth-child(3) a {
            color: #ff4d4f;
        }

        /* Style pour le bouton Fermer */
        #buttonFermer {
            margin-top: 10px;
            background-color: #f0f0f0;
            color: #666;
        }

        /* Un fond semi-transparent pour mettre en évidence le popup */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }

        .overlay_active {
            display: block;
        }
        .popup_param_active{
            transition: 2s ease-in-out;
            display: block;
            top: 50%;
            position: fixed;
        } 
        .ajout_image{
            background: #ff0000;
            color: white;
            width: 54%;
            margin: 10px;
            height: 40px;
            border-radius: 15px;
            border: none;
            font-size: 20px;
        }
        .sary3 {
            position: relative;
        }

        .photo_thumbnail {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .btn_effacer {
            border: none;
            color: red;
            font-size: 1vw;
            border-radius: 50%;
            width: 41px;
            background: transparent;
            position: absolute;
            z-index: 10;
            background: black;
            top: 8px;
            height: 41px;
            right: 10px;
        }

            .btn_effacer:hover {
                background-color: rgba(255, 0, 0, 1);
            }
            .btn_effacer a{
                color: white;
            }
        .span_{
            margin-left: 40% !important;
        }
        .b{
            font-size: 2vw;
        }
@media (max-width:768px) {
        .span_{
            margin-left: 25% !important;
        }
        .btn_effacer {
            position: absolute;
            top: 4px;
            /* right: 4px; */
            background-color: rgba(2, 2, 2, 0.8);
            border: none;
            color: white;
            border-radius: 50%;
            padding: 2px 7px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-size: 20px;
            left: 8.5rem !important;
            width: 30px;
            height: 30px;
        }
        .profile-container{
            margin-top: 15vh;
        }
        .b{
            font-size: 4vw;
        }
           
}
       
    </style>

    <div class="profile-container">
        <div class="profile-header">
            <img src="{{ profil.images.url }}" alt="Photo de profil"> <br><br>
            <b style="color: rgb(29, 26, 26);" class="b">{{ membre.pseudo }}</b>
                {% if profil.valider %}
                <span style="background:#28a745; color:white; border-radius:50%; padding:2px 6px; font-size:18px; border:2px solid #fff;" class="span_">
                    <i class="fas fa-check"></i>
                </span>
                {% else %}
                    <span style="background:#dc3545; color:white; border-radius:50%; padding:2px 6px; font-size:18px; border:2px solid #fff;" class="span_">
                        <i class="fas fa-times"></i>
                    </span>
                {% endif %}
            <p style="color: rgb(19, 124, 19);"><button style="width: 10px;height: 10px;background-color: green;border-radius: 50%;border: none;"></button> {% trans "en ligne" %}</p>
            <i style="color: #0070f3;"><i class="fas fa-location-dot"></i> {{ membre.country }} , {{ membre.city }}  </i>
            <p style="color: rgb(15, 15, 15);"><i class="fas fa-mars-stroke"></i> {{ membre.gender }} de 25 ans</p>
        </div>
        <div class="plus_photo">
            <h3>{% trans "Photo" %}</h3>
            <form id="imageForm" enctype="multipart/form-data">
                {% csrf_token %}
                <div id="imagePreview" class="sary3">
                    {% load custom_filters %}
                    {% for i in "123456" %}
                        {% with field="additional_image"|add:i %}
                            {% with image=additional_info|getattribute:field %}
                                {% if image %}
                                    <div class="image-container">
                                        <img src="{{ image.url }}" alt="Photo supplémentaire {{ i }}" class="photo-thumbnail">
                                        <button class="btn_effacer" type="button" onclick="supprimerImage('{{ field }}', this)">
                                            
                                            <a href=""><i class="fas fa-times"></i></a>
                                        </button>
                                    </div>
                                {% endif %}
                            {% endwith %}
                        {% endwith %}
                    {% endfor %}
                </div>
                <div id="imageInputs" style="margin-top: 20px;">
                    <input type="file" id="additional_image" name="image" accept="image/*" onchange="uploadImage(this)">
                    <button type="submit" class="ajout_image">{% trans "Ajouter" %}</button>
                </div>
            </form>
        </div>
        <div class="profile-info">
            <h2 class="section-title">{% trans "Informations du Profil" %}</h2>
            <ul>
                <!-- Apparence -->
                <h3 class="category-title"><i class="fas fa-eye"></i> {% trans "Apparence" %}</h3>
                <li class="info-item"><strong>{% trans "Couleur des Yeux:" %}</strong> {{ profil.yeux }}</li>
                <li class="info-item"><strong>{% trans "Couleur des Cheveux:" %}</strong> {{ profil.cheveux }}</li>
                <li class="info-item"><strong>{% trans "Taille:" %}</strong> {{ profil.taille }} cm</li>
                <li class="info-item"><strong>{% trans "Poids:" %}</strong> {{ profil.poids }} kg</li>

                <!-- Mode de vie -->
                <h3 class="category-title"><i class="fas fa-glass-cheers"></i> {% trans "Mode de Vie" %}</h3>
                <li class="info-item"><strong>{% trans "Consommation d'Alcool:" %}</strong> {{ profil.alcool }}</li>
                <li class="info-item"><strong>{% trans "Consommation de Tabac:" %}</strong> {{ profil.tabac }}</li>
                <li class="info-item"><strong>{% trans "Situation Matrimoniale:" %}</strong> {{ profil.situation }}</li>
                <li class="info-item"><strong>{% trans "Nombre d'Enfants:" %}</strong> {{ profil.enfants }}</li>

                <!-- Description -->
                <h3 class="category-title"><i class="fas fa-info-circle"></i> {% trans "Description" %}</h3>
                <li class="info-item"><strong>{% trans "À propos de vous:" %}</strong> {{ profil.description }}</li>
                <li class="info-item"><strong>{% trans "À propos de la personne recherchée:" %}</strong> {{ profil.recherche }}</li>

                {% if additional_info %}
                    <!-- Informations additionnelles -->
                    <h3 class="category-title"><i class="fas fa-plus-circle"></i> {% trans "Plus d'informations" %} </h3>
                    <li class="info-item"><strong>{% trans "Ethnicité:" %}</strong> {{ additional_info.ethnicite }}</li>
                    <li class="info-item"><strong>{% trans "Art corporel:" %}</strong> {{ additional_info.art_corporel }}</li>
                    <li class="info-item"><strong>{% trans "Enfants souhaités:" %}</strong> {{ additional_info.enfants_souhaites }}</li>
                    <li class="info-item"><strong>{% trans "Profession:" %}</strong> {{ additional_info.profession }}</li>
                    <li class="info-item"><strong>{% trans "Situation de vie:" %}</strong> {{ additional_info.situation_vie }}</li>
                    <li class="info-item"><strong>{% trans "Prêt à déménager:" %}</strong> {{ additional_info.demenagement }}</li>
                    <li class="info-item"><strong>{% trans "Relation recherchée:" %}</strong> {{ additional_info.relation_recherche }}</li>
                    <li class="info-item"><strong>{% trans "Niveau d'étude:" %}</strong> {{ additional_info.niveau_etude }}</li>
                    <li class="info-item"><strong>{% trans "Religion:" %}</strong> {{ additional_info.religion }}</li>
                    <li class="info-item"><strong>{% trans "Signe astrologique:" %}</strong> {{ additional_info.signe_astrologique }}</li>
                {% else %}
                    <p class="info-message">{% trans "Vous n'avez pas encore complété les informations additionnelles de votre profil." %}</p>
                {% endif %}
            </ul>
        </div>
        <div style="margin-left: 10px;">
            <button class="btn-complete-profile" id="btn-complete-profile">{% trans "Compléter le profil" %}</button>
            <button class="btn-complete-profile" id="btn-modify-profile">{% trans "Modifier le profil" %}</button>
            <button class="btn-complete-profile" id="btn-settings"><a href="{% url 'parametres' request.session.client.id %}" style="text-decoration: none;color: white;">{% trans "Paramètres" %}</a></button>
        </div>
    </div>

    <!-- Modal for enlarged photos -->
    <div id="photo-modal" class="photo-modal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="modal-image">
        <div class="modal-navigation">
            <button id="prev-photo" class="nav-button">&lt;</button>
            <button id="next-photo" class="nav-button">&gt;</button>
        </div>
    </div>

    <div class="popup-overlay" id="popup-overlay">
        <div class="popup-content">
            <h3>Compléter votre profil</h3>
            <form action="{% url 'ajout_additional' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <section class="formul">
                    <div class="sous_formul">
                        <div class="form-group">
                            <label for="ethnicite">Votre ethnicité</label>
                            <select id="ethnicite" name="ethnicite">
                                <option value="Africain">Africain</option>
                                <option value="Afro-Americain">Afro-Americain</option>
                                <option value="Afro-Antillais">Afro-Antillais</option>
                                <option value="Arabe">Arabe</option>
                                <option value="Asiatique">Asiatique</option>
                                <option value="Caucasien(Blanc)">Caucasien(Blanc)</option>
                                <option value="Indien">Indien</option>
                                <option value="Européen">Européen</option>
                                <option value="Métis">Métis</option>
                                <option value="Pas-prononcer">Je prefere ne pas prononcer</option>

                            </select>
                        </div>
                        <div class="form-group">
                            <label for="art_corporel">Art corporel</label>
                            <select name="art_corporel" id="art_corporel">
                                <option value="Aucun">Aucun</option>
                                <option value="Boucle d’oreilles">Boucle d’oreilles</option>
                                <option value="Marque">Marque</option>
                                <option value="Piercing">Piercing</option>
                                <option value="Tatouage">Tatouage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="enfants_souhaites">Voulez-vous d'autres enfants</label>
                            <select name="enfants_souhaites" id="enfants_souhaites">
                                <option value="Oui">Oui</option>
                                <option value="Non">Non</option>
                                <option value="Je ne suis pas sûr(e)">Je ne suis pas sûr(e)</option>
                                
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profession">Profession</label>
                            <input type="text" id="profession" name="profession" value="{{ additional_info.profession }}">
                        </div>
                        <div class="form-group">
                            <label for="situation_vie">Situation de vie</label>
                            <!-- <input type="text" id="situation_vie" name="situation_vie" value="{{ additional_info.situation_vie }}"> -->
                            <select name="situation_vie" id="situation_vie">
                                <option value="">sélectionné</option>
                                <option value="{{ additional_info.situation_vie }}">En Couple</option>
                                <option value="{{ additional_info.situation_vie }}">Célibataire</option>
                                <option value="{{ additional_info.situation_vie }}">Ouvert(e) aux rencontre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="demenagement">Prêt à déménager</label>
                            <!-- <input type="text" id="demenagement" name="demenagement" value=""> -->
                            <select name="demenagement" id="demenagement">
                                <option value="{{ additional_info.demenagement }}">Oui</option>
                                <option value="{{ additional_info.demenagement }}">Non</option>
                            </select>
                        </div>
                        
                    </div>
                    <div class="sous_formul">
                        <div class="form-group">
                            <label for="relation_recherche">Relation recherchée</label>
                            <!-- <input type="text" id="relation_recherche" name="relation_recherche" value="{{ additional_info.relation_recherche }}"> -->
                            <select name="relation_recherche" id="relation_recherche">
                                <option value="{{ additional_info.relation_recherche }}">Sérieuse et engagé</option>
                                <option value="{{ additional_info.relation_recherche }}">Amicale et sans engagement</option>
                                <option value="{{ additional_info.relation_recherche }}">Fun et décontractée</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="niveau_etude">Niveau d'étude</label>
                            <!-- <input type="text" id="niveau_etude" name="niveau_etude" value="{{ additional_info.niveau_etude }}"> -->
                            <select name="niveau_etude" id="niveau_etude">
                                <option value="{{ additional_info.niveau_etude }}">Lycée</option>
                                <option value="{{ additional_info.niveau_etude }}">Université</option>
                                <option value="{{ additional_info.niveau_etude }}">Diplômé(e)</option>
                                <option value="{{ additional_info.niveau_etude }}">Autodidacte</option>
                            </select>
                             
                        </div>
                        <div class="form-group">
                            <label for="nationalité">Nationalité</label>
                            <select id="nationalité" name="nationalité">
                                <option value="Malagasy">Malagasy</option>
                                <option value="Française">Française</option>
                                <option value="Comorien">Comorien</option>
                                <option value="Américaine">Américaine</option>
                                <option value="Canadienne">Canadienne</option>
                                <option value="Britannique">Britannique</option>
                                <option value="Allemande">Allemande</option>
                                <option value="Espagnole">Espagnole</option>
                                <option value="Italienne">Italienne</option>
                                <option value="Chinoise">Chinoise</option>
                                <option value="Indienne">Indienne</option>
                                <option value="Autre">Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="langues_parles">Langues Parlés</label>
                            <select id="langues_parles" name="langues_parles">
                                <option value="Malagasy">Malagasy</option>
                                <option value="Français">Français</option>
                                <option value="Anglais">Anglais</option>
                                <option value="Espagnol">Espagnol</option>
                                <option value="Allemand">Allemand</option>
                                <option value="Italien">Italien</option>
                                <option value="Chinois">Chinois</option>
                                <option value="Arabe">Arabe</option>
                                <option value="Hindi">Hindi</option>
                                <option value="Portugais">Portugais</option>
                                <option value="Autre">Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <!-- <label for="religion">Religion</label>
                            <input type="text" id="religion" name="religion" value="{{ additional_info.religion }}"> -->
                            <select name="religion" id="religion">
                                <option value="{{ additional_info.religion }}">Christianisme</option>
                                <option value="{{ additional_info.religion }}">Islam</option>
                                <option value="{{ additional_info.religion }}">Judaîsme</option>
                                <option value="{{ additional_info.religion }}">Bouddhisme</option>
                                <option value="{{ additional_info.religion }}">Spiritualité libre</option>
                                <option value="{{ additional_info.religion }}">Athée</option>
                                <option value="{{ additional_info.religion }}">Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="signe_astrologique">Signe astrologique</label>
                            <!-- <input type="text" id="signe_astrologique" name="signe_astrologique" value="{{ additional_info.signe_astrologique }}"> -->
                            <select name="signe_astrologique" id="signe_astrologique">
                                <option value="{{ additional_info.signe_astrologique }}">Bélier</option>
                                <option value="{{ additional_info.signe_astrologique }}">Taureau</option>
                                <option value="{{ additional_info.signe_astrologique }}">Gémeaux</option>
                                <option value="{{ additional_info.signe_astrologique }}">Cancer</option>
                                <option value="{{ additional_info.signe_astrologique }}">Lion</option>
                                <option value="{{ additional_info.signe_astrologique }}">Vierge</option>
                                <option value="{{ additional_info.signe_astrologique }}">Vierge</option>
                                <option value="{{ additional_info.signe_astrologique }}">Balance</option>
                                <option value="{{ additional_info.signe_astrologique }}">Scorpion</option>
                                <option value="{{ additional_info.signe_astrologique }}">Sagitaire</option>
                                <option value="{{ additional_info.signe_astrologique }}">Capricorne</option>
                                <option value="{{ additional_info.signe_astrologique }}">Verseau</option>
                                <option value="{{ additional_info.signe_astrologique }}">Poissons</option>
                            </select>
                        </div>
                        
                    </div>
                </section>
                <button type="submit" class="btn-submit">Enregistrer</button>
                <button type="button" class="btn-close" id="btn-close-popup">Fermer</button>
            </form>
        </div>
    </div>

    <div class="popup-overlay" id="popup-modify-overlay">
        <div class="popup-content">
            <h3>Modifier votre profil</h3>
            <form action="{% url 'modifier_profil' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <section class="formul">
                    <div class="sous_formul">
                        <div class="form-group">
                            <label for="pseudo">Pseudo</label>
                            <input type="text" id="pseudo" name="pseudo" value="{{ membre.pseudo }}">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" value="{{ membre.email }}">
                        </div>
                        <div class="form-group">
                            <label for="country">Pays</label>
                            <!-- <input type="text" id="country" name="country" value="{{ membre.country }}
                            "> -->
                                <select name="country" id="country" class="form-input">
                                    <option value="Madagascar">Madagascar</option>
                                    <option value="France">France</option>
                                    <option value="Grèce">Grèce</option>
                                    <option value="Hongrie">Hongrie</option>
                                    <option value="Irlande">Irlande</option>
                                    <option value="Islande">Islande</option>
                                    <option value="Italie">Italie</option>
                                    <option value="Kosovo">Kosovo</option>
                                    <option value="Lettonie">Lettonie</option>
                                    <option value="Liechtenstein">Liechtenstein</option>
                                    <option value="Lituanie">Lituanie</option>
                                    <option value="Luxembourg">Luxembourg</option>
                                    <option value="Macédoine du Nord">Macédoine du Nord</option>
                                    <option value="Malte">Malte</option>
                                    <option value="Moldavie">Moldavie</option>
                                    <option value="Monaco">Monaco</option>
                                    <option value="Monténégro">Monténégro</option>
                                    <option value="Norvège">Norvège</option>
                                    <option value="Pays-Bas">Pays-Bas</option>
                                    <option value="Pologne">Pologne</option>
                                    <option value="Portugal">Portugal</option>
                                    <option value="République tchèque">République tchèque</option>
                                    <option value="Roumanie">Roumanie</option>
                                    <option value="Royaume-Uni">Royaume-Uni</option>
                                    <option value="Russie">Russie</option>
                                    <option value="Saint-Marin">Saint-Marin</option>
                                    <option value="Serbie">Serbie</option>
                                    <option value="Slovaquie">Slovaquie</option>
                                    <option value="Slovénie">Slovénie</option>
                                    <option value="Suède">Suède</option>
                                    <option value="Suisse">Suisse</option>
                                    <option value="Ukraine">Ukraine</option>
                                    <option value="Vatican">Vatican</option>
                                    <option value="Albanie">Albanie</option>
                                    <option value="Allemagne">Allemagne</option>
                                    <option value="Andorre">Andorre</option>
                                    <option value="Autriche">Autriche</option>
                                    <option value="Belgique">Belgique</option>
                                    <option value="Biélorussie">Biélorussie</option>
                                    <option value="Bosnie-Herzégovine">Bosnie-Herzégovine</option>
                                    <option value="Bulgarie">Bulgarie</option>
                                    <option value="Chypre">Chypre</option>
                                    <option value="Croatie">Croatie</option>
                                    <option value="Danemark">Danemark</option>
                                    <option value="Espagne">Espagne</option>
                                    <option value="Estonie">Estonie</option>
                                    <option value="Finlande">Finlande</option>

                                    <!-- Pays africains -->
                                    <option value="Maroc">Maroc</option>
                                    <option value="Algérie">Algérie</option>
                                    <option value="Tunisie">Tunisie</option>
                                    <option value="Sénégal">Sénégal</option>
                                    <option value="Côte d'Ivoire">Côte d'Ivoire</option>
                                    <option value="Cameroun">Cameroun</option>
                                    <option value="Nigeria">Nigeria</option>
                                    <option value="Kenya">Kenya</option>
                                    <option value="Afrique du Sud">Afrique du Sud</option>
                                    <option value="Égypte">Égypte</option>
                                    <option value="La Réunion">La Réunion</option>
                                    <option value="Seychelles">Seychelles</option>
                                    <option value="Maurice">Maurice</option>
                                    <option value="Comores">Comores</option>
                                </select>
                        </div>
                        <div class="form-group">
                            <label for="city">Provinces</label>
                            <!-- <input type="text" id="city" name="city" value="{{ membre.city }}"> -->
                            <select name="city" id="city" class="form-input">
                                <option value="">Sélectionnez une ville</option>
                            </select>
                        </div>
                            
                        <div class="form-group">
                            <label for="country">Lieux</label>
                            <!-- <input type="text" id="country" name="ville" value="{{ membre.gender }}"> -->
                            <select name="lieux" id="lieux" class="form-input">
                                <option value="">Sélectionnez un Lieux</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="looking_for">Recherche</label>
                            <input type="text" id="looking_for" name="looking_for" value="{{ membre.looking_for }}">
                        </div>
                        <div class="form-group">
                            <label for="" class="form-label">Age entre</label>
                            <div class="age">
                                <div>
                                    <label for="">debut :</label><br>
                                    <!-- <input type="number" name="age_debut" id="" min="18" value="{{membre.age_debut}}"> -->                      <select name="age_debut" class="form-input" required>
                                        <option value="18" {% if membre.age_debut == 18 %}selected{% endif %}>18</option>
                                        <option value="19" {% if membre.age_debut == 19 %}selected{% endif %}>19</option>
                                        <option value="20" {% if membre.age_debut == 20 %}selected{% endif %}>20</option>
                                        <option value="21" {% if membre.age_debut == 21 %}selected{% endif %}>21</option>
                                        <option value="22" {% if membre.age_debut == 22 %}selected{% endif %}>22</option>
                                        <option value="23" {% if membre.age_debut == 23 %}selected{% endif %}>23</option>
                                        <option value="24" {% if membre.age_debut == 24 %}selected{% endif %}>24</option>
                                        <option value="25" {% if membre.age_debut == 25 %}selected{% endif %}>25</option>
                                        <option value="26" {% if membre.age_debut == 26 %}selected{% endif %}>26</option>
                                        <option value="27" {% if membre.age_debut == 27 %}selected{% endif %}>27</option>
                                        <option value="28" {% if membre.age_debut == 28 %}selected{% endif %}>28</option>
                                        <option value="29" {% if membre.age_debut == 29 %}selected{% endif %}>29</option>
                                        <option value="30" {% if membre.age_debut == 30 %}selected{% endif %}>30</option>
                                        <option value="31" {% if membre.age_debut == 31 %}selected{% endif %}>31</option>
                                        <option value="32" {% if membre.age_debut == 32 %}selected{% endif %}>32</option>
                                        <option value="33" {% if membre.age_debut == 33 %}selected{% endif %}>33</option>
                                        <option value="34" {% if membre.age_debut == 34 %}selected{% endif %}>34</option>
                                        <option value="35" {% if membre.age_debut == 35 %}selected{% endif %}>35</option>
                                        <option value="36" {% if membre.age_debut == 36 %}selected{% endif %}>36</option>
                                        <option value="37" {% if membre.age_debut == 37 %}selected{% endif %}>37</option>
                                        <option value="38" {% if membre.age_debut == 38 %}selected{% endif %}>38</option>
                                        <option value="39" {% if membre.age_debut == 39 %}selected{% endif %}>39</option>
                                        <option value="40" {% if membre.age_debut == 40 %}selected{% endif %}>40</option>
                                        <option value="41" {% if membre.age_debut == 41 %}selected{% endif %}>41</option>
                                        <option value="42" {% if membre.age_debut == 42 %}selected{% endif %}>42</option>
                                        <option value="43" {% if membre.age_debut == 43 %}selected{% endif %}>43</option>
                                        <option value="44" {% if membre.age_debut == 44 %}selected{% endif %}>44</option>
                                        <option value="45" {% if membre.age_debut == 45 %}selected{% endif %}>45</option>
                                        <option value="46" {% if membre.age_debut == 46 %}selected{% endif %}>46</option>
                                        <option value="47" {% if membre.age_debut == 47 %}selected{% endif %}>47</option>
                                        <option value="48" {% if membre.age_debut == 48 %}selected{% endif %}>48</option>
                                        <option value="49" {% if membre.age_debut == 49 %}selected{% endif %}>49</option>
                                        <option value="50" {% if membre.age_debut == 50 %}selected{% endif %}>50</option>
                                        <option value="51" {% if membre.age_debut == 51 %}selected{% endif %}>51</option>
                                        <option value="52" {% if membre.age_debut == 52 %}selected{% endif %}>52</option>
                                        <option value="53" {% if membre.age_debut == 53 %}selected{% endif %}>53</option>
                                        <option value="54" {% if membre.age_debut == 54 %}selected{% endif %}>54</option>
                                        <option value="55" {% if membre.age_debut == 55 %}selected{% endif %}>55</option>
                                        <option value="56" {% if membre.age_debut == 56 %}selected{% endif %}>56</option>
                                        <option value="57" {% if membre.age_debut == 57 %}selected{% endif %}>57</option>
                                        <option value="58" {% if membre.age_debut == 58 %}selected{% endif %}>58</option>
                                        <option value="59" {% if membre.age_debut == 59 %}selected{% endif %}>59</option>
                                        <option value="60" {% if membre.age_debut == 60 %}selected{% endif %}>60</option>
                                        <option value="61" {% if membre.age_debut == 61 %}selected{% endif %}>61</option>
                                        <option value="62" {% if membre.age_debut == 62 %}selected{% endif %}>62</option>
                                        <option value="63" {% if membre.age_debut == 63 %}selected{% endif %}>63</option>
                                        <option value="64" {% if membre.age_debut == 64 %}selected{% endif %}>64</option>
                                        <option value="65" {% if membre.age_debut == 65 %}selected{% endif %}>65</option>
                                        <option value="66" {% if membre.age_debut == 66 %}selected{% endif %}>66</option>
                                        <option value="67" {% if membre.age_debut == 67 %}selected{% endif %}>67</option>
                                        <option value="68" {% if membre.age_debut == 68 %}selected{% endif %}>68</option>
                                        <option value="69" {% if membre.age_debut == 69 %}selected{% endif %}>69</option>
                                        <option value="70" {% if membre.age_debut == 70 %}selected{% endif %}>70</option>
                                        <option value="71" {% if membre.age_debut == 71 %}selected{% endif %}>71</option>
                                        <option value="72" {% if membre.age_debut == 72 %}selected{% endif %}>72</option>
                                        <option value="73" {% if membre.age_debut == 73 %}selected{% endif %}>73</option>
                                        <option value="74" {% if membre.age_debut == 74 %}selected{% endif %}>74</option>
                                        <option value="75" {% if membre.age_debut == 75 %}selected{% endif %}>75</option>
                                        <option value="76" {% if membre.age_debut == 76 %}selected{% endif %}>76</option>
                                        <option value="77" {% if membre.age_debut == 77 %}selected{% endif %}>77</option>
                                        <option value="78" {% if membre.age_debut == 78 %}selected{% endif %}>78</option>
                                        <option value="79" {% if membre.age_debut == 79 %}selected{% endif %}>79</option>
                                        <option value="80" {% if membre.age_debut == 80 %}selected{% endif %}>80</option>
                                        <option value="81" {% if membre.age_debut == 81 %}selected{% endif %}>80 et plus</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="">fin :</label><br>
                                    <!-- <input type="number" name="age_fin" id="" value="{{membre.age_fin}}"> -->                               <select name="age_fin" class="form-input" required>
                                        <option value="18" {% if membre.age_fin == 18 %}selected{% endif %}>18</option>
                                        <option value="19" {% if membre.age_fin == 19 %}selected{% endif %}>19</option>
                                        <option value="20" {% if membre.age_fin == 20 %}selected{% endif %}>20</option>
                                        <option value="21" {% if membre.age_fin == 21 %}selected{% endif %}>21</option>
                                        <option value="22" {% if membre.age_fin == 22 %}selected{% endif %}>22</option>
                                        <option value="23" {% if membre.age_fin == 23 %}selected{% endif %}>23</option>
                                        <option value="24" {% if membre.age_fin == 24 %}selected{% endif %}>24</option>
                                        <option value="25" {% if membre.age_fin == 25 %}selected{% endif %}>25</option>
                                        <option value="26" {% if membre.age_fin == 26 %}selected{% endif %}>26</option>
                                        <option value="27" {% if membre.age_fin == 27 %}selected{% endif %}>27</option>
                                        <option value="28" {% if membre.age_fin == 28 %}selected{% endif %}>28</option>
                                        <option value="29" {% if membre.age_fin == 29 %}selected{% endif %}>29</option>
                                        <option value="30" {% if membre.age_fin == 30 %}selected{% endif %}>30</option>
                                        <option value="31" {% if membre.age_fin == 31 %}selected{% endif %}>31</option>
                                        <option value="32" {% if membre.age_fin == 32 %}selected{% endif %}>32</option>
                                        <option value="33" {% if membre.age_fin == 33 %}selected{% endif %}>33</option>
                                        <option value="34" {% if membre.age_fin == 34 %}selected{% endif %}>34</option>
                                        <option value="35" {% if membre.age_fin == 35 %}selected{% endif %}>35</option>
                                        <option value="36" {% if membre.age_fin == 36 %}selected{% endif %}>36</option>
                                        <option value="37" {% if membre.age_fin == 37 %}selected{% endif %}>37</option>
                                        <option value="38" {% if membre.age_fin == 38 %}selected{% endif %}>38</option>
                                        <option value="39" {% if membre.age_fin == 39 %}selected{% endif %}>39</option>
                                        <option value="40" {% if membre.age_fin == 40 %}selected{% endif %}>40</option>
                                        <option value="41" {% if membre.age_fin == 41 %}selected{% endif %}>41</option>
                                        <option value="42" {% if membre.age_fin == 42 %}selected{% endif %}>42</option>
                                        <option value="43" {% if membre.age_fin == 43 %}selected{% endif %}>43</option>
                                        <option value="44" {% if membre.age_fin == 44 %}selected{% endif %}>44</option>
                                        <option value="45" {% if membre.age_fin == 45 %}selected{% endif %}>45</option>
                                        <option value="46" {% if membre.age_fin == 46 %}selected{% endif %}>46</option>
                                        <option value="47" {% if membre.age_fin == 47 %}selected{% endif %}>47</option>
                                        <option value="48" {% if membre.age_fin == 48 %}selected{% endif %}>48</option>
                                        <option value="49" {% if membre.age_fin == 49 %}selected{% endif %}>49</option>
                                        <option value="50" {% if membre.age_fin == 50 %}selected{% endif %}>50</option>
                                        <option value="51" {% if membre.age_fin == 51 %}selected{% endif %}>51</option>
                                        <option value="52" {% if membre.age_fin == 52 %}selected{% endif %}>52</option>
                                        <option value="53" {% if membre.age_fin == 53 %}selected{% endif %}>53</option>
                                        <option value="54" {% if membre.age_fin == 54 %}selected{% endif %}>54</option>
                                        <option value="55" {% if membre.age_fin == 55 %}selected{% endif %}>55</option>
                                        <option value="56" {% if membre.age_fin == 56 %}selected{% endif %}>56</option>
                                        <option value="57" {% if membre.age_fin == 57 %}selected{% endif %}>57</option>
                                        <option value="58" {% if membre.age_fin == 58 %}selected{% endif %}>58</option>
                                        <option value="59" {% if membre.age_fin == 59 %}selected{% endif %}>59</option>
                                        <option value="60" {% if membre.age_fin == 60 %}selected{% endif %}>60</option>
                                        <option value="61" {% if membre.age_fin == 61 %}selected{% endif %}>61</option>
                                        <option value="62" {% if membre.age_fin == 62 %}selected{% endif %}>62</option>
                                        <option value="63" {% if membre.age_fin == 63 %}selected{% endif %}>63</option>
                                        <option value="64" {% if membre.age_fin == 64 %}selected{% endif %}>64</option>
                                        <option value="65" {% if membre.age_fin == 65 %}selected{% endif %}>65</option>
                                        <option value="66" {% if membre.age_fin == 66 %}selected{% endif %}>66</option>
                                        <option value="67" {% if membre.age_fin == 67 %}selected{% endif %}>67</option>
                                        <option value="68" {% if membre.age_fin == 68 %}selected{% endif %}>68</option>
                                        <option value="69" {% if membre.age_fin == 69 %}selected{% endif %}>69</option>
                                        <option value="70" {% if membre.age_fin == 70 %}selected{% endif %}>70</option>
                                        <option value="71" {% if membre.age_fin == 71 %}selected{% endif %}>71</option>
                                        <option value="72" {% if membre.age_fin == 72 %}selected{% endif %}>72</option>
                                        <option value="73" {% if membre.age_fin == 73 %}selected{% endif %}>73</option>
                                        <option value="74" {% if membre.age_fin == 74 %}selected{% endif %}>74</option>
                                        <option value="75" {% if membre.age_fin == 75 %}selected{% endif %}>75</option>
                                        <option value="76" {% if membre.age_fin == 76 %}selected{% endif %}>76</option>
                                        <option value="77" {% if membre.age_fin == 77 %}selected{% endif %}>77</option>
                                        <option value="78" {% if membre.age_fin == 78 %}selected{% endif %}>78</option>
                                        <option value="79" {% if membre.age_fin == 79 %}selected{% endif %}>79</option>
                                        <option value="80" {% if membre.age_fin == 80 %}selected{% endif %}>80</option>
                                        <option value="81" {% if membre.age_fin == 81 %}selected{% endif %}>81</option>
                                        <option value="82" {% if membre.age_fin == 82 %}selected{% endif %}>82</option>
                                        <option value="83" {% if membre.age_fin == 83 %}selected{% endif %}>83</option>
                                        <option value="84" {% if membre.age_fin == 84 %}selected{% endif %}>84</option>
                                        <option value="85" {% if membre.age_fin == 85 %}selected{% endif %}>85</option>
                                        <option value="86" {% if membre.age_fin == 86 %}selected{% endif %}>86</option>
                                        <option value="87" {% if membre.age_fin == 87 %}selected{% endif %}>87</option>
                                        <option value="88" {% if membre.age_fin == 88 %}selected{% endif %}>88</option>
                                        <option value="89" {% if membre.age_fin == 89 %}selected{% endif %}>89</option>
                                        <option value="90" {% if membre.age_fin == 90 %}selected{% endif %}>90</option> 
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sous_formul">
                        <div class="form-group">
                            <label for="cheveux">Cheveux</label>
                            <!-- <input type="text" id="cheveux" name="cheveux" value="{{ profil.cheveux }}"> -->                            <select class="form-control" name="cheveux" id="cheveux" required>
                                <option value="">Couleur des cheveux</option>
                                <option value="Blond" {% if profil.cheveux == "Blond" %}selected{% endif %}>Blond</option>
                                <option value="Gris" {% if profil.cheveux == "Gris" %}selected{% endif %}>Gris</option>
                                <option value="Marron" {% if profil.cheveux == "Marron" %}selected{% endif %}>Marron</option>
                                <option value="Noir" {% if profil.cheveux == "Noir" %}selected{% endif %}>Noir</option>
                                <option value="Je change souvent" {% if profil.cheveux == "Je change souvent" %}selected{% endif %}>Je change souvent</option>
                                <option value="Châtain" {% if profil.cheveux == "Châtain" %}selected{% endif %}>Châtain</option>
                                <option value="Autre" {% if profil.cheveux == "Autre" %}selected{% endif %}>Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="yeux">Yeux</label>
                            <!-- <input type="text" id="yeux" name="yeux" value="{{ profil.yeux }}"> -->                            <select name="yeux" id="yeux" required>
                                <option value="">Couleur des yeux</option>
                                <option value="Bleu" {% if profil.yeux == "Bleu" %}selected{% endif %}>Bleu</option>
                                <option value="Gris" {% if profil.yeux == "Gris" %}selected{% endif %}>Gris</option>
                                <option value="Marron" {% if profil.yeux == "Marron" %}selected{% endif %}>Marron</option>
                                <option value="Noir" {% if profil.yeux == "Noir" %}selected{% endif %}>Noir</option>
                                <option value="Noisette" {% if profil.yeux == "Noisette" %}selected{% endif %}>Noisette</option>
                                <option value="Vert" {% if profil.yeux == "Vert" %}selected{% endif %}>Vert</option>
                                <option value="Autre" {% if profil.yeux == "Autre" %}selected{% endif %}>Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="taille">Taille (cm)</label>
                            <!-- <input type="number" id="taille" name="taille" value="{{ profil.taille }}"> -->                            <select name="taille" id="taille" class="form-control" required>
                                <option value="">Taille</option>
                                <option value="100" {% if profil.taille == 100 %}selected{% endif %}>100 cm</option>
                                <option value="105" {% if profil.taille == 105 %}selected{% endif %}>105 cm</option>
                                <option value="110" {% if profil.taille == 110 %}selected{% endif %}>110 cm</option>
                                <option value="115" {% if profil.taille == 115 %}selected{% endif %}>115 cm</option>
                                <option value="120" {% if profil.taille == 120 %}selected{% endif %}>120 cm</option>
                                <option value="125" {% if profil.taille == 125 %}selected{% endif %}>125 cm</option>
                                <option value="130" {% if profil.taille == 130 %}selected{% endif %}>130 cm</option>
                                <option value="135" {% if profil.taille == 135 %}selected{% endif %}>135 cm</option>
                                <option value="140" {% if profil.taille == 140 %}selected{% endif %}>140 cm</option>
                                <option value="145" {% if profil.taille == 145 %}selected{% endif %}>145 cm</option>
                                <option value="150" {% if profil.taille == 150 %}selected{% endif %}>150 cm</option>
                                <option value="155" {% if profil.taille == 155 %}selected{% endif %}>155 cm</option>
                                <option value="160" {% if profil.taille == 160 %}selected{% endif %}>160 cm</option>
                                <option value="165" {% if profil.taille == 165 %}selected{% endif %}>165 cm</option>
                                <option value="170" {% if profil.taille == 170 %}selected{% endif %}>170 cm</option>
                                <option value="175" {% if profil.taille == 175 %}selected{% endif %}>175 cm</option>
                                <option value="180" {% if profil.taille == 180 %}selected{% endif %}>180 cm</option>
                                <option value="185" {% if profil.taille == 185 %}selected{% endif %}>185 cm</option>
                                <option value="190" {% if profil.taille == 190 %}selected{% endif %}>190 cm</option>
                                <option value="195" {% if profil.taille == 195 %}selected{% endif %}>195 cm</option>
                                <option value="200" {% if profil.taille == 200 %}selected{% endif %}>200 cm</option>
                                <option value="205" {% if profil.taille == 205 %}selected{% endif %}>205 cm</option>
                                <option value="210" {% if profil.taille == 210 %}selected{% endif %}>210 cm</option>
                                <option value="215" {% if profil.taille == 215 %}selected{% endif %}>215 cm</option>
                                <option value="220" {% if profil.taille == 220 %}selected{% endif %}>220 cm</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="poids">Poids (kg)</label>
                            <input type="number" id="poids" name="poids" value="{{ profil.poids }}">
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea id="description" name="description" rows="7" cols="30">{{ profil.description }}</textarea>
                        </div>
                    </div>
                </section>
                <button type="submit" class="btn-submit">Enregistrer</button>
                <button type="button" class="btn-close" id="btn-close-modify-popup">Fermer</button>
            </form>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const btnCompleteProfile = document.getElementById('btn-complete-profile');
            const popupOverlay = document.getElementById('popup-overlay');
            const btnClosePopup = document.getElementById('btn-close-popup');
            const profile_container = document.querySelector(".profile-container")

            btnCompleteProfile.addEventListener('click', function () {
                popupOverlay.classList.add('active');
                popupOverlay.style = "border:1px solid black"
                profile_container.style = "background-color:black;position:fixed;opacity:0"
            });

            btnClosePopup.addEventListener('click', function () {
                popupOverlay.classList.remove('active');
                profile_container.style = "opacity:1"

            });

            const btnModifyProfile = document.getElementById('btn-modify-profile');
            const modifyOverlay = document.getElementById('popup-modify-overlay');
            const btnCloseModifyPopup = document.getElementById('btn-close-modify-popup');
            
            btnModifyProfile.addEventListener('click', function () {
                modifyOverlay.classList.add('active');
                modifyOverlay.style = "border:1px solid black"

                profile_container.style = "background-color:black;position:fixed;opacity:0"

            });
            
            btnCloseModifyPopup.addEventListener('click', function () {
                modifyOverlay.classList.remove('active');
                profile_container.style = "opacity:1"

            });


            const thumbnails = document.querySelectorAll('.photo-thumbnail');
            const modal = document.getElementById('photo-modal');
            const modalImage = document.getElementById('modal-image');
            const closeModal = document.querySelector('.close-modal');
            const prevButton = document.getElementById('prev-photo');
            const nextButton = document.getElementById('next-photo');

            let currentIndex = 0;
            const images = Array.from(thumbnails).map(img => img.src);

            function showModal(index) {
                currentIndex = index;
                modalImage.src = images[currentIndex];
                modal.style.display = 'flex';
            }

            function closeModalHandler() {
                modal.style.display = 'none';
            }

            function showNextPhoto() {
                currentIndex = (currentIndex + 1) % images.length;
                modalImage.src = images[currentIndex];
            }

            function showPrevPhoto() {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                modalImage.src = images[currentIndex];
            }

            thumbnails.forEach((thumbnail, index) => {
                thumbnail.addEventListener('click', () => showModal(index));
            });

            closeModal.addEventListener('click', closeModalHandler);
            nextButton.addEventListener('click', showNextPhoto);
            prevButton.addEventListener('click', showPrevPhoto);

            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    closeModalHandler();
                }
            });

            const maxPhotos = 6;
            let photoCount = Number("{{ additional_info.additional_image1|yesno:'1,0' }}") +
                             Number("{{ additional_info.additional_image2|yesno:'1,0' }}") +
                             Number("{{ additional_info.additional_image3|yesno:'1,0' }}") +
                             Number("{{ additional_info.additional_image4|yesno:'1,0' }}") +
                             Number("{{ additional_info.additional_image5|yesno:'1,0' }}") +
                             Number("{{ additional_info.additional_image6|yesno:'1,0' }}");
            const imageForm = document.getElementById('imageForm');
            const imageInputs = document.getElementById('imageInputs');
            const imagePreview = document.getElementById('imagePreview');

            function updateInputVisibility() {
                // Compte le nombre d'images actuellement affichées
                const nbPhotos = imagePreview.querySelectorAll('.photo-thumbnail').length;
                if (nbPhotos >= maxPhotos) {
                    imageInputs.style.display = 'none';
                } else {
                    imageInputs.style.display = '';
                }
            }

            window.uploadImage = function(input) {
                if (!input.files.length) return;

                // Cherche le prochain slot libre
                let nextIndex = 1;
                for (let i = 1; i <= 6; i++) {
                    if (!document.querySelector(`img[alt="Photo supplémentaire ${i}"]`)) {
                        nextIndex = i;
                        break;
                    }
                }

                const formData = new FormData();
                formData.append(`additional_image${nextIndex}`, input.files[0]);
                formData.append('csrfmiddlewaretoken', '{{ csrf_token }}');

                fetch('{% url "ajout_additional" %}', {
                    method: 'POST',
                    body: formData
                })
                .then(resp => resp.json())
                .then (data => {
                    if (data.success && data.image_url) {
                        const img = document.createElement('img');
                        img.src = data.image_url;
                        img.className = 'photo-thumbnail';
                        img.alt = `Photo supplémentaire ${nextIndex}`;
                        document.getElementById('imagePreview').appendChild(img);
                        photoCount++;
                        updateInputVisibility();
                        input.value = '';

                        img.addEventListener('click', () => showModal(images.length));
                        images.push(data.image_url);
                    } else if (data.error) {
                        alert(data.error);
                    }
                })
            };

            updateInputVisibility();
        });

        function supprimerImage(field, btn) {
            if (!confirm("Voulez-vous vraiment supprimer cette photo ?")) return;
            fetch("{% url 'supprimer_photo' %}", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRFToken": "{{ csrf_token }}",
                },
                body: JSON.stringify({ field: field })
            })
            .then(resp => resp.json())
            .then(data => {
                if (data.success) {
                    btn.closest('div').remove(); // Supprime l'image ET le bouton corbeille ensemble
                    updateInputVisibility();
                } else {
                    alert(data.error || "Erreur lors de la suppression.");
                }
            });
        }
    </script>
    <script>

const villesParPays = {
    "Madagascar": [
        "Antananarivo", "Toamasina", "Fianarantsoa", "Mahajanga", "Toliara",
        "Antsirabe", "Antsiranana", "Ambatondrazaka", "Manakara", "Morondava",
        "Sambava", "Vohémar", "Farafangana", "Ihosy", "Nosy Be", "Ambanja",
        "Ambositra", "Maintirano", "Ambohimanga", "Morombe"
    ],
    "La Réunion": [
        "Saint-Denis", "Saint-Pierre", "Saint-Paul", "Le Tampon", "Saint-André",
        "Saint-Louis", "Le Port", "La Possession", "Sainte-Marie", "Sainte-Suzanne",
        "Saint-Benoît", "Cilaos", "Salazie", "Entre-Deux", "Les Avirons"
    ],
    "Seychelles": [
        "Victoria", "Beau Vallon", "Anse Boileau", "Anse Royale", "Bel Ombre",
        "Takamaka", "Cascade", "Pointe La Rue", "Baie Lazare", "La Passe",
        "Baie Sainte Anne", "Grand Anse"
    ],
    "Maurice": [
        "Port-Louis", "Beau-Bassin Rose-Hill", "Vacoas-Phoenix", "Curepipe", "Quatre Bornes",
        "Mahébourg", "Goodlands", "Triolet", "Centre de Flacq", "Rivière du Rempart"
    ],
    "Comores": [
        "Moroni", "Mutsamudu", "Fomboni", "Domoni", "Tsidjé",
        "Iconi", "Ouani", "Nioumachoua", "Chirongui", "Sima"
    ],
    // ... toutes les autres entrées inchangées
    "France": ["Paris", "Marseille", "Lyon", "Toulouse", "Nice", "Nantes", "Strasbourg", "Montpellier", "Bordeaux", "Lille"],
    "Grèce": ["Athènes", "Thessalonique", "Patras", "Héraklion", "Larissa"],
    "Hongrie": ["Budapest", "Debrecen", "Szeged", "Miskolc", "Pécs"],
    "Irlande": ["Dublin", "Cork", "Limerick", "Galway", "Waterford"],
    "Islande": ["Reykjavik", "Kopavogur", "Hafnarfjordur", "Akureyri", "Reykjanesbær"],
    "Italie": ["Rome", "Milan", "Naples", "Turin", "Palermo"],
    "Kosovo": ["Pristina", "Pec", "Gjakova", "Mitrovica", "Ferizaj"],
    "Lettonie": ["Riga", "Daugavpils", "Liepaja", "Jelgava", "Jurmala"],
    "Liechtenstein": ["Vaduz", "Schaan", "Balzers", "Triesen", "Eschen"],
    "Lituanie": ["Vilnius", "Kaunas", "Klaipeda", "Šiauliai", "Panevėžys"],
    "Luxembourg": ["Luxembourg", "Esch-sur-Alzette", "Differdange", "Dudelange", "Ettelbruck"],
    "Macédoine du Nord": ["Skopje", "Bitola", "Kumanovo", "Prilep", "Tetovo"],
    "Malte": ["La Valette", "Birkirkara", "Mosta", "Qormi", "Sliema"],
    "Moldavie": ["Chisinau", "Tiraspol", "Bălți", "Bender", "Rîbnița"],
    "Monaco": ["Monaco"],
    "Monténégro": ["Podgorica", "Nikšić", "Herceg Novi", "Pljevlja", "Bijelo Polje"],
    "Norvège": ["Oslo", "Bergen", "Stavanger", "Trondheim", "Drammen"],
    "Pays-Bas": ["Amsterdam", "Rotterdam", "La Haye", "Utrecht", "Eindhoven"],
    "Pologne": ["Varsovie", "Cracovie", "Lodz", "Wroclaw", "Poznan"],
    "Portugal": ["Lisbonne", "Porto", "Amadora", "Braga", "Coimbra"],
    "République tchèque": ["Prague", "Brno", "Ostrava", "Plzen", "Liberec"],
    "Roumanie": ["Bucarest", "Cluj-Napoca", "Timișoara", "Iași", "Constanța"],
    "Royaume-Uni": ["Londres", "Birmingham", "Manchester", "Glasgow", "Liverpool"],
    "Russie": ["Moscou", "Saint-Pétersbourg", "Novossibirsk", "Ekaterinbourg", "Nijni Novgorod"],
    "Saint-Marin": ["Saint-Marin"],
    "Serbie": ["Belgrade", "Novi Sad", "Niš", "Kragujevac", "Subotica"],
    "Slovaquie": ["Bratislava", "Košice", "Prešov", "Žilina", "Nitra"],
    "Slovénie": ["Ljubljana", "Maribor", "Celje", "Kranj", "Velenje"],
    "Suède": ["Stockholm", "Gothenburg", "Malmö", "Uppsala", "Västerås"],
    "Suisse": ["Zurich", "Genève", "Bâle", "Berne", "Lausanne"],
    "Ukraine": ["Kiev", "Kharkiv", "Odessa", "Dnipro", "Donetsk"],
    "Vatican": ["Vatican"],
    "Albanie": ["Tirana", "Durrës", "Vlorë", "Shkodër", "Fier"],
    "Allemagne": ["Berlin", "Hambourg", "Munich", "Cologne", "Francfort"],
    "Andorre": ["Andorre-la-Vieille", "Escaldes-Engordany", "Encamp", "Sant Julià de Lòria", "La Massana"],
    "Autriche": ["Vienne", "Graz", "Linz", "Salzbourg", "Innsbruck"],
    "Belgique": ["Bruxelles", "Anvers", "Gand", "Charleroi", "Liège"],
    "Biélorussie": ["Minsk", "Gomel", "Moguilev", "Vitebsk", "Hrodna"],
    "Bosnie-Herzégovine": ["Sarajevo", "Banja Luka", "Tuzla", "Zenica", "Mostar"],
    "Bulgarie": ["Sofia", "Plovdiv", "Varna", "Burgas", "Rousse"],
    "Chypre": ["Nicosie", "Limassol", "Larnaca", "Famagouste", "Paphos"],
    "Croatie": ["Zagreb", "Split", "Rijeka", "Osijek", "Zadar"],
    "Danemark": ["Copenhague", "Aarhus", "Odense", "Aalborg", "Esbjerg"],
    "Espagne": ["Madrid", "Barcelone", "Valence", "Séville", "Saragosse"],
    "Estonie": ["Tallinn", "Tartu", "Narva", "Pärnu", "Kohtla-Järve"],
    "Finlande": ["Helsinki", "Espoo", "Tampere", "Vantaa", "Oulu"],
    "Maroc": ["Casablanca", "Rabat", "Fès", "Marrakech", "Agadir"],
    "Algérie": ["Alger", "Oran", "Constantine", "Annaba", "Blida"],
    "Tunisie": ["Tunis", "Sfax", "Sousse", "Kairouan", "Bizerte"],
    "Sénégal": ["Dakar", "Thiès", "Kaolack", "Saint-Louis", "Ziguinchor"],
    "Côte d'Ivoire": ["Abidjan", "Bouaké", "Daloa", "Yamoussoukro", "San Pedro"],
    "Cameroun": ["Yaoundé", "Douala", "Garoua", "Bamenda", "Maroua"],
    "Nigeria": ["Lagos", "Abuja", "Kano", "Ibadan", "Port Harcourt"],
    "Kenya": ["Nairobi", "Mombasa", "Kisumu", "Nakuru", "Eldoret"],
    "Afrique du Sud": ["Johannesburg", "Cape Town", "Durban", "Pretoria", "Port Elizabeth"],
    "Égypte": ["Le Caire", "Alexandrie", "Gizeh", "Shubra El-Kheima", "Port-Saïd"]
};
const villesParProvince = {
  "Antananarivo": [
    "Antananarivo", "Ambohidratrimo", "Ankazobe", "Anjozorobe",
    "Manjakandriana", "Andramasina", "Miarinarivo", "Arivonimamo",
    "Soavinandriana", "Tsiroanomandidy", "Fenoarivobe", "Antsirabe",
    "Betafo", "Mandoto", "Antanifotsy", "Faratsiho", "Ambatolampy",
    "Ambositra", "Fandriana", "Manandriana"
  ],
  "Fianarantsoa": [
    "Fianarantsoa", "Ambalavao", "Ikalamavony", "Ambositra",
    "Mananjary", "Nosy Varika", "Manakara", "Ikongo",
    "Farafangana", "Vangaindrano", "Vondrozo", "Ihosy", "Iakora"
  ],
  "Mahajanga": [
    "Mahajanga", "Marovoay", "Mitsinjo", "Ambato-Boeny",
    "Antsohihy", "Mandritsara", "Bealanana", "Befandriana-Nord",
    "Maevatanana", "Kandreho", "Maintirano", "Morafenobe", "Besalampy"
  ],
  "Toamasina": [
    "Toamasina", "Brickaville", "Vatomandry", "Mahanoro",
    "Soanierana Ivongo", "Fenoarivo Atsinanana", "Maroantsetra",
    "Mananara Nord", "Antanambao Manampotsy", "Ambatondrazaka",
    "Amparafaravola", "Moramanga"
  ],
  "Toliara": [
    "Toliara", "Sakaraha", "Betioky", "Ampanihy", "Morombe",
    "Ankazoabo", "Beloha", "Ambovombe", "Bekily", "Betroka"
  ],
  "Antsiranana": [
    "Antsiranana", "Ambilobe", "Ambanja", "Nosy Be",
    "Sambava", "Vohemar", "Antalaha", "Andapa"
  ],
  "Victoria": ["Centre-ville de Victoria", "Mont Fleuri", "English River"],
  "Beau Vallon": ["Beau Vallon", "Bel Ombre"],
  "Anse Boileau": ["Anse Boileau", "Baie Lazare"],
  "Anse Royale": ["Anse Royale", "Takamaka"],
  "Bel Ombre": ["Bel Ombre"],
  "Takamaka": ["Takamaka", "Anse Royale"],
  "Cascade": ["Cascade"],
  "Pointe La Rue": ["Pointe La Rue"],
  "Baie Lazare": ["Baie Lazare"],
  "La Passe": ["La Passe"],
  "Baie Sainte Anne": ["Baie Sainte Anne"],
  "Grand Anse": ["Grand Anse"],
   "Saint-Denis": [
        "Saint-Denis", "Sainte-Suzanne", "Sainte-Marie", "La Possession"
    ],
    "Saint-Pierre": [
        "Saint-Pierre", "Le Tampon", "Saint-Louis", "Cilaos", "Entre-Deux", "Les Avirons"
    ],
    "Saint-Paul": [
        "Saint-Paul", "Le Port", "La Possession", "Trois-Bassins", "Etang-Salé"
    ],
    "Saint-Benoît": [
        "Saint-Benoît", "Salazie", "Saint-André", "Bras-Panon"
    ],
     "Paris": ["1er Arrondissement", "2e Arrondissement", "3e Arrondissement", "4e Arrondissement", "5e Arrondissement", "6e Arrondissement", "7e Arrondissement", "8e Arrondissement", "9e Arrondissement", "10e Arrondissement", "11e Arrondissement", "12e Arrondissement", "13e Arrondissement", "14e Arrondissement", "15e Arrondissement", "16e Arrondissement", "17e Arrondissement", "18e Arrondissement", "19e Arrondissement", "20e Arrondissement"],
    "Marseille": ["1er arrondissement", "2e arrondissement", "3e arrondissement", "4e arrondissement", "5e arrondissement", "6e arrondissement", "7e arrondissement", "8e arrondissement", "9e arrondissement", "10e arrondissement"],
    "Lyon": ["1er arrondissement", "2e arrondissement", "3e arrondissement", "4e arrondissement", "5e arrondissement", "6e arrondissement", "7e arrondissement", "8e arrondissement", "9e arrondissement"],
     "Toulouse": [
    "Capitole", "Carmes", "Saint-Cyprien", "Minimes", "Rangueil", "Empalot"
  ],
  "Nice": [
    "Vieux-Nice", "Cimiez", "Libération", "Riquier", "Ariane", "Fabron", "Magnan"
  ],
  "Nantes": [
    "Centre-ville", "Dervallières-Zola", "Hauts-Pavés - Saint-Félix", "Ile de Nantes", "Malakoff", "Chantenay"
  ],
  "Strasbourg": [
    "Petite France", "Neudorf", "Cronenbourg", "Koenigshoffen", "Robertsau", "Meinau"
  ],
  "Montpellier": [
    "Écusson", "Antigone", "Port Marianne", "Celleneuve", "La Paillade", "Mosson"
  ],
  "Bordeaux": [
    "Chartrons", "Saint-Michel", "Bastide", "Caudéran", "Nansouty", "Victoire"
  ],
  "Lille": [
    "Vieux-Lille", "Wazemmes", "Moulins", "Fives", "Lille-Centre", "Bois-Blancs"
  ],
    "Budapest": ["Várkerület","Rózsadomb","Óbuda","Újpest","Belváros","Terézváros","Erzsébetváros","Józsefváros","Ferencváros","Kőbánya"
    ],
    "Debrecen": ["Belváros", "Tócóskert", "Újkert"],
    "Szeged": ["Belváros", "Tarján", "Újszeged"],
    "Miskolc": ["Avas", "Diósgyőr", "Berekalja"],
    "Pécs": ["Belváros", "Uránváros", "Kertváros"],
    "Dublin": ["City Centre", "Rathmines", "Tallaght"],
    "Cork": ["Centre-ville", "Douglas", "Blackrock"],
    "Limerick": ["Castletroy", "Dooradoyle", "City Centre"],
    "Galway": ["Salthill", "Westside", "City Centre"],
    "Waterford": ["Ferrybank", "Ballybricken", "Lisduggan"],
     "Reykjavik": ["Vesturbær", "Miðborg", "Breiðholt"],
    "Kopavogur": ["Smárinn", "Digranes", "Fossvogur"],
    "Hafnarfjordur": ["Hvaleyri", "Vellir", "Asvellir"],
    "Akureyri": ["Glerárhverfi", "Oddeyri", "Brekkugata"],
    "Reykjanesbær": ["Njarðvík", "Ásbrú", "Hafnargata"],
    "Rome": ["Trastevere", "Testaccio", "Centro Storico"],
    "Milan": ["Brera", "Navigli", "Porta Romana"],
    "Naples": ["Chiaia", "Vomero", "Centro Storico"],
    "Turin": ["Centro", "San Salvario", "Crocetta"],
    "Palermo": ["Centro Storico", "Mondello", "Kalsa"],
     "Pristina": ["Dardania", "Lakrishtë", "Bregu i Diellit"],
    "Pec": ["Qendra", "Dardania", "Zahaq"],
    "Gjakova": ["Qendra", "Bashkia", "Bec"],
    "Mitrovica": ["Jugu", "Veriu", "Shipol"],
    "Ferizaj": ["Taslixhe", "Varosh", "Qendra"],
    "Riga": ["Centrs", "Imanta", "Teika"],
    "Daugavpils": ["Centrs", "Griva", "Kraslava"],
    "Liepaja": ["Vecliepaja", "Karosta", "Lauma"],
    "Jelgava": ["Centrs", "Raf", "Virs"],
    "Jurmala": ["Dzintari", "Majori", "Bulduri"],
    "Vaduz": ["Zentrum", "Mitteldorf", "Lettstrasse"],
    "Schaan": ["Zentrum", "Mühleholz", "Dux"],
    "Balzers": ["Zentrum", "Mäls", "Gätzle"],
    "Triesen": ["Zentrum", "Sandgrube", "Alp"],
    "Eschen": ["Nendeln", "Zentrum", "Brühl"],
    "Vilnius": ["Old Town", "Žvėrynas", "Šnipiškės"],
    "Kaunas": ["Centras", "Žaliakalnis", "Šilainiai"],
    "Klaipeda": ["Old Town", "South Klaipeda", "Tauralaukis"],
    "Šiauliai": ["Centras", "Gytariai", "Dainai"],
    "Panevėžys": ["Centras", "Stetiškės", "Rožynas"],
    "Luxembourg": ["Ville Haute", "Gare", "Belair"],
    "Esch-sur-Alzette": ["Centre", "Lallange", "Brill"],
    "Differdange": ["Oberkorn", "Fousbann", "Niederkorn"],
    "Dudelange": ["Centre", "Itzig", "Mont Saint-Jean"],
    "Ettelbruck": ["Centre", "Warken", "Grentzingen"],
    "Skopje": ["Čair", "Karpoš", "Centar"],
    "Bitola": ["City Center", "Nova Bitola", "Oblakovo"],
    "Kumanovo": ["Banevo", "Karposh", "Goce Delchev"],
    "Prilep": ["Varoš", "Novo Selo", "Centar"],
    "Tetovo": ["Džepčishte", "Balindoll", "Leshok"],
    "La Valette": ["City Gate", "Upper Barrakka", "Republic Street"],
    "Birkirkara": ["Tal-Qattus", "Fleur-de-Lys", "Swatar"],
    "Mosta": ["Santa Margerita", "Ta’ Mlit", "Zokrija"],
    "Qormi": ["San Bastjan", "San Gorg", "Ta’ Farżina"],
    "Sliema": ["Tower Road", "Balluta Bay", "Qui-si-Sana"],
    "Chisinau": ["Centru", "Buiucani", "Botanica"],
    "Tiraspol": ["Centru", "Suvorov", "Doroțcaia"],
    "Bălți": ["Centru", "Sculeni", "Zăicani"],
    "Bender": ["Centru", "Suvorov", "Doroțcaia"],
    "Rîbnița": ["Centru", "Suvorov", "Doroțcaia"],
    "Monaco": ["Monaco-Ville", "Monte Carlo", "La Condamine"],
    "Podgorica": ["Centar", "Gorica", "Banjica"],
    "Nikšić": ["Centar", "Trebjesa", "Zagorič"],
    "Herceg Novi": ["Igalo", "Meljine", "Bijela"],
    "Pljevlja": ["Centar", "Tomaševo", "Bistrica"],
    "Bijelo Polje": ["Centar", "Rasovo", "Bistrica"],
    "Oslo": ["Sentrum", "Grünerløkka", "Majorstuen"],
    "Bergen": ["Sentrum", "Fyllingsdalen", "Åsane"],
    "Stavanger": ["Sentrum", "Hillevåg", "Madla"],
    "Trondheim": ["Sentrum", "Byåsen", "Strindheim"],
    "Drammen": ["Sentrum", "Brakerøya", "Strømsø"],
    "Amsterdam": ["Centrum", "Zuid", "Oost"],
    "Rotterdam": ["Centrum", "Delfshaven", "Kralingen"],
    "La Haye": ["Centrum", "Scheveningen", "Kijkduin"],
    "Utrecht": ["Centrum", "Leidsche Rijn", "Vleuten"],
    "Eindhoven": ["Centrum", "Stratum", "Woensel"],
    "Varsovie": ["Śródmieście", "Mokotów", "Praga-Południe"],
    "Cracovie": ["Stare Miasto", "Kazimierz", "Nowa Huta"],
    "Lodz": ["Śródmieście", "Bałuty", "Widzew"],
    "Wroclaw": ["Stare Miasto", "Krzyki", "Fabryczna"],
    "Poznan": ["Stare Miasto", "Jeżyce", "Wilda"],
    "Lisbonne": ["Alfama", "Bairro Alto", "Belém"],
    "Porto": ["Ribeira", "Boavista", "Foz do Douro"],
    "Amadora": ["Amadora", "Alfornelos", "Bairro de Alfornelos"],
    "Braga": ["Braga", "Maximinos", "São José de São Lázaro"],
    "Coimbra": ["Coimbra", "Almedina", "Santa Clara"],
    "Prague": ["Staré Město", "Nové Město", "Vinohrady"],
    "Brno": ["Brno-střed", "Královo Pole", "Žabovřesky"],
    "Ostrava": ["Moravská Ostrava", "Poruba", "Karviná"],
    "Plzen": ["Plzeň 1", "Plzeň 2", "Plzeň 3"],
    "Liberec": ["Liberec I", "Liberec II", "Liberec III"],
    "Bucarest": ["Sector 1", "Sector 2", "Sector 3"],
    "Cluj-Napoca": ["Centru", "Mănăștur", "Zorilor"],
    "Timișoara": ["Centru", "Iosefin", "Fabric"],
    "Iași": ["Centru", "Tătărași", "Copou"],
    "Constanța": ["Centru", "Tomis Nord", "Bdul Mamaia"],
    "Londres": ["Westminster", "Camden", "Islington"],
    "Birmingham": ["Birmingham City Centre", "Edgbaston", "Selly Oak"],
    "Manchester": ["Manchester City Centre", "Didsbury", "Chorlton"],
    "Glasgow": ["Glasgow City Centre", "West End", "South Side"],
    "Liverpool": ["Liverpool City Centre", "Kirkdale", "Anfield"],
    "Moscou": ["Centre-ville", "Kremlin", "Arbat"],
    "Saint-Pétersbourg": ["Centre-ville", "Nevskiy Prospekt", "Petrogradsky"],
    "Novossibirsk": ["Centre-ville", "Zayeltsovo", "Kirovsky"],
    "Ekaterinbourg": ["Centre-ville", "VIZ", "Chkalovsky"],
    "Nijni Novgorod": ["Centre-ville", "Kanavinsky", "Sormovo"],
    "Saint-Marin": ["Saint-Marin"],
    "Podgorica": ["Centar", "Gorica", "Banjica"],
    "Nikšić": ["Centar", "Trebjesa", "Zagorič"],
    "Herceg Novi": ["Igalo", "Meljine", "Bijela"],
    "Pljevlja": ["Centar", "Tomaševo", "Bistrica"],
    "Bijelo Polje": ["Centar", "Rasovo", "Bistrica"],
    "Stockholm": ["Gamla Stan", "Södermalm", "Östermalm"],
    "Gothenburg": ["Centrum", "Hisingen", "Lundby"],
    "Malmö": ["Centrum", "Västra Hamnen", "Södervärn"],
    "Uppsala": ["Centrum", "Gränby", "Sävja"],
    "Västerås": ["Centrum", "Djäkneberget", "Hässlö"],
    "Zurich": ["Altstadt", "Zürich-West", "Enge"],
    "Genève": ["Centre-ville", "Carouge", "Eaux-Vives"],
    "Bâle": ["Kleinbasel", "Grossbasel", "St. Alban"],
    "Berne": ["Altstadt", "Mattenhof", "Wabern"],
    "Lausanne": ["Centre-ville", "Ouchy", "Chailly"],
    "Kiev": ["Obolon", "Podil", "Pechersk"],
    "Kharkiv": ["Centre-ville", "Saltivka", "Pivnichnyi"],
    "Odessa": ["Centre-ville", "Primorsky", "Malinovsky"],
    "Dnipro": ["Centre-ville", "Sovietsky", "Samarsky"],
    "Donetsk": ["Centre-ville", "Kirovsky", "Petrovsky"],
    "Vatican": ["Vatican City"],
    "Tirana": ["Tirana", "Durrës", "Vlorë"],
    "Durrës": ["Durrës", "Vlorë", "Shkodër"],
    "Vlorë": ["Vlorë", "Saranda", "Fier"],
    "Shkodër": ["Shkodër", "Lezhë", "Saranda"],
    "Fier": ["Fier", "Vlorë", "Saranda"],
    "Berlin": ["Mitte", "Kreuzberg", "Friedrichshain"],
    "Hambourg": ["Altona", "HafenCity", "St. Pauli"],
    "Munich": ["Altstadt-Lehel", "Maxvorstadt", "Schwanthalerhöhe"],
    "Cologne": ["Altstadt-Nord", "Ehrenfeld", "Lindenthal"],
    "Francfort": ["Innenstadt", "Sachsenhausen", "Bockenheim"],
    "Andorre-la-Vieille": ["Andorre-la-Vieille", "Escaldes-Engordany", "Encamp"],
    "Escaldes-Engordany": ["Escaldes-Engordany", "Andorre-la-Vieille", "Encamp"],
    "Encamp": ["Encamp", "Andorre-la-Vieille", "Escaldes-Engordany"],
    "Sant Julià de Lòria": ["Sant Julià de Lòria", "Andorre-la-Vieille", "Escaldes-Engordany"],
    "La Massana": ["La Massana", "Andorre-la-Vieille", "Escaldes-Engordany"],
    "Vienne": ["Innere Stadt", "Leopoldstadt", "Landstraße"],
    "Graz": ["Innere Stadt", "Lend", "Gries"],
    "Linz": ["Innere Stadt", "Urfahr", "Pichling"],
    "Salzbourg": ["Altstadt", "Lehen", "Maxglan"],
    "Innsbruck": ["Innere Stadt", "Pradl", "Wilten"],
    "Bruxelles": ["Bruxelles-Capitale", "Ixelles", "Saint-Gilles"],
    "Anvers": ["Antwerpen-Centrum", "Berchem", "Borgerhout"],
    "Gand": ["Gent-Centrum", "Ledeberg", "Sint-Amandsberg"],
    "Charleroi": ["Charleroi-Centre", "Gilly", "Montignies-sur-Sambre"],
    "Liège": ["Liège-Centre", "Outremeuse", "Saint-Laurent"],
    "Minsk": ["Centre-ville", "Sovetsky", "Frunzensky"],
    "Gomel": ["Centre-ville", "Zheleznodorozhny", "Sovetsky"],
    "Moguilev": ["Centre-ville", "Leninsky", "Sovetsky"],
    "Vitebsk": ["Centre-ville", "Leninsky", "Frunzensky"],
    "Hrodna": ["Centre-ville", "Leninsky", "Sovetsky"],
    "Sarajevo": ["Centar", "Novo Sarajevo", "Stari Grad"],
    "Banja Luka": ["Centar", "Laktaši", "Gradiška"],
    "Tuzla": ["Centar", "Sjenjak", "Kreka"],
    "Zenica": ["Centar", "Tetovo", "Kakanj"],
    "Mostar": ["Centar", "Buna", "Blagaj"],
    "Sofia": ["Centrum", "Lozenets", "Mladost"],
    "Plovdiv": ["Centrum", "Küçük Plovdiv", "Trakia"],
    "Varna": ["Centrum", "Primorski", "Asparuhovo"],
    "Burgas": ["Centrum", "Burgas-iztok", "Burgas-zapad"],
    "Rousse": ["Centrum", "Rousse-iztok", "Rousse-zapad"],
    "Nicosie": ["Centre-ville", "Lefkosa", "Güzelyurt"],
    "Limassol": ["Centre-ville", "Agios Nikolaos", "Agios Georgios"],
    "Larnaca": ["Centre-ville", "Finikoudes", "Mackenzie"],
    "Famagouste": ["Centre-ville", "Gazimağusa", "Karpaz"],
    "Paphos": ["Centre-ville", "Kato Paphos", "Chloraka"],
    "Zagreb": ["Centar", "Maksimir", "Trešnjevka"],
    "Split": ["Centar", "Marjan", "Bacvice"],
    "Rijeka": ["Centar", "Brajda", "Pećine"],
    "Osijek": ["Centar", "Donji Grad", "Gornji Grad"],
    "Zadar": ["Centar", "Borik", "Poluotok"],
    "Copenhague": ["Indre By", "Vesterbro", "Nørrebro"],
    "Aarhus": ["Centrum", "Viby", "Højbjerg"],
    "Odense": ["Centrum", "Bolbro", "Næsby"],
    "Aalborg": ["Centrum", "Vejgaard", "Nørresundby"],
    "Esbjerg": ["Centrum", "Guldager", "Esbjerg Ø"],
    "Madrid": ["Centro", "Salamanca", "Chueca"],
    "Barcelone": ["Ciutat Vella", "Eixample", "Gràcia"],
    "Valence": ["Ciutat Vella", "Ruzafa", "Benimaclet"],
    "Séville": ["Casco Antiguo", "Triana", "Los Remedios"],
    "Saragosse": ["Centro", "Delicias", "Las Fuentes"],
    "Tallinn": ["Kesklinn", "Lasnamäe", "Mustamäe"],
    "Tartu": ["Kesklinn", "Tammelinna", "Annelinna"],
    "Narva": ["Kesklinn", "Lasnamäe", "Mustamäe"],
    "Pärnu": ["Kesklinn", "Rääma", "Sauga"],
    "Kohtla-Järve": ["Kesklinn", "Järve", "Kiviõli"],
    "Helsinki": ["Keskusta", "Kamppi", "Kumpula"],
    "Espoo": ["Espoon Keskus", "Leppävaara", "Matinkylä"],
    "Tampere": ["Tampereen Keskusta", "Tulli", "Hervanta"],
    "Vantaa": ["Vantaan Keskus", "Tikkurila", "Myyrmäki"],
    "Oulu": ["Oulun Keskusta", "Linnanmaa", "Kivikkokangas"],
    "Casablanca": ["Centre-ville", "Anfa", "Moulay Youssef"],
    "Rabat": ["Centre-ville", "Agdal", "Hay Riad"],
    "Fès": ["Fès el-Bali", "Fès el-Jdid", "Ville Nouvelle"],
    "Marrakech": ["Médina", "Gueliz", "Hivernage"],
    "Agadir": ["Centre-ville", "Talborjt", "Agadir Oufella"],
    "Alger": ["Centre-ville", "El Madania", "Belouizdad"],
    "Oran": ["Centre-ville", "El-Hamri", "Bir El Djir"],
    "Constantine": ["Centre-ville", "El-Madania", "Kouba"],
    "Annaba": ["Centre-ville", "El-Hadjar", "Berrahal"],
    "Blida": ["Centre-ville", "El-Affroun", "Boufarik"],
    "Dakar": ["Centre-ville", "Plateau", "Pikine"],
    "Thiès": ["Centre-ville", "Tivaouane", "Mbour"],
    "Kaolack": ["Centre-ville", "Nioro du Rip", "Guinguinéo"],
    "Saint-Louis": ["Centre-ville", "Guet Ndar", "Faidherbe"],
    "Ziguinchor": ["Centre-ville", "Bignona", "Oussouye"],
    "Abidjan": ["Plateau", "Cocody", "Yopougon"],
    "Bouaké": ["Bouaké Nord", "Bouaké Sud", "Bouaké Ouest"],
    "Daloa": ["Daloa Nord", "Daloa Sud", "Daloa Ouest"],
    "Yamoussoukro": ["Yamoussoukro Nord", "Yamoussoukro Sud", "Yamoussoukro Ouest"],
    "San Pedro": ["San Pedro Nord", "San Pedro Sud", "San Pedro Ouest"],
    "Yaoundé": ["Centre-ville", "Essos", "Akwa"],
    "Douala": ["Centre-ville", "Akwa", "Bonanjo"],
    "Garoua": ["Centre-ville", "Garoua II", "Garoua III"],
    "Bamenda": ["Centre-ville", "Bamenda I", "Bamenda II"],
    "Maroua": ["Centre-ville", "Maroua I", "Maroua II"],
    "Lagos": ["Centre-ville", "Victoria Island", "Ikoyi"],
    "Abuja": ["Centre-ville", "Wuse", "Garki"],
    "Kano": ["Centre-ville", "Kano Municipal", "Kano South"],
    "Ibadan": ["Centre-ville", "Ibadan North", "Ibadan South"],
    "Port Harcourt": ["Centre-ville", "Port Harcourt City", "Obio-Akpor"],
    "Nairobi": ["Centre-ville", "Westlands", "Kilimani"],
    "Mombasa": ["Centre-ville", "Nyali", "Kisauni"],
    "Kisumu": ["Centre-ville", "Kisumu East", "Kisumu West"],
    "Nakuru": ["Centre-ville", "Nakuru East", "Nakuru West"],
    "Eldoret": ["Centre-ville", "Eldoret East", "Eldoret West"],
    "Addis-Abeba": ["Centre-ville", "Bole", "Kirkos"],
    "Dire Dawa": ["Centre-ville", "Dire Dawa East", "Dire Dawa West"],
    "Mekele": ["Centre-ville", "Mekele East", "Mekele West"],
    "Gondar": ["Centre-ville", "Gondar East", "Gondar West"],
    "Hawassa": ["Centre-ville", "Hawassa East", "Hawassa West"],
    "Lomé": ["Centre-ville", "Baguida", "Agoè"],
    "Kara": ["Centre-ville", "Kara Nord", "Kara Sud"],
    "Sokodé": ["Centre-ville", "Sokodé Nord", "Sokodé Sud"],
    "Kpalimé": ["Centre-ville", "Kpalimé Nord", "Kpalimé Sud"],
    "Atakpamé": ["Centre-ville", "Atakpamé Nord", "Atakpamé Sud"],
    "Johannesburg":[
        "Johannesburg Central", "Soweto", "Sandton"
    ],
    "Le Cap":[
            "Cape Town Central", "Camps Bay", "Hout Bay"
        ],
    "Durban":[
        "Durban Central", "Umhlanga", "Ballito"
    ],
    "Pretoria":[
        "Pretoria Central", "Hatfield", "Brooklyn"
    ],
    "Port Elizabeth":[
        "Port Elizabeth Central", "Summerstrand", "Walmer"
    ],
    "Le Caire":[
        "Centre-ville", "Zamalek", "Maadi"
    ],
    "Alexandrie":[
        "Centre-ville", "Raml Station", "Moharam Bek"
    ],
    "Gizeh":[
        "Centre-ville", "Dokki", "Mohandessin"
    ],
    "Louxor":[
        "Centre-ville", "Karnak", "Nile Corniche"
    ],
    "Port-Saïd":[
        "Centre-ville", "Port Fouad", "El Arab"
    ],
};

document.addEventListener('DOMContentLoaded', function () {
    let cityInput = document.getElementById('city');
    if (cityInput.tagName.toLowerCase() === 'input') {
        const select = document.createElement('select');
        select.name = 'city';
        select.id = 'city';
        select.className = cityInput.className;
        select.required = true;
        cityInput.parentNode.replaceChild(select, cityInput);
        cityInput = select;
    }

    const countrySelect = document.getElementById('country');
    const citySelect = document.getElementById('city');

    function updateCities() {
        const selectedCountry = countrySelect.value;
        citySelect.innerHTML = '<option value="">Sélectionnez une ville</option>';
        if (villesParPays[selectedCountry]) {
            villesParPays[selectedCountry].forEach(function (ville) {
                const option = document.createElement('option');
                option.value = ville;
                option.textContent = ville;
                citySelect.appendChild(option);
            });
            citySelect.disabled = false;
        } else {
            citySelect.disabled = true;
        }
    }
     function updatedVilles() {
        const cityValue = document.getElementById('city').value;
        const lieux = document.getElementById('lieux');
        lieux.innerHTML = "<option value=''>Sélectionnez un lieu</option>";
        if (cityValue && villesParProvince[cityValue]) {
            villesParProvince[cityValue].forEach(lieu => {
                const option = document.createElement("option");
                option.value = lieu;
                option.textContent = lieu;
                lieux.appendChild(option);
            });
            lieux.disabled = false;
        } else {
            lieux.disabled = true;
        }
    }

    // countrySelect.addEventListener('change', updateCities);
    citySelect.addEventListener('change', updatedVilles);

    updatedVilles();
    countrySelect.addEventListener('change', updateCities);
    updateCities();
});
</script>
    
</section>

{% endblock "contenu" %}
